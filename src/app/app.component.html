<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
  crossorigin="anonymous"
/>
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
  crossorigin="anonymous"
></script>
<nav
  class="navbar navbar-expand-lg bg-body-tertiary"
  style="padding-right: 5%; padding-left: 5%"
>
  <div class="container-fluid">
    <a class="navbar-brand" href="user/card">
      <img src="../assets/logo-cem.png" style="width: 150px; height: 60px" />
    </a>
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"></ul>
      <div class="d-flex" role="search">
        <input
          class="form-control me-2"
          type="search"
          placeholder="Search"
          aria-label="Search"
          [(ngModel)]="documentNumber"
        />
        <button class="btn btn-outline-success" (click)="listarUsuarios()">
          Buscar
        </button>
      </div>
    </div>
  </div>
</nav>

<div class="mat-elevation-z8 tabla-container">
  <table mat-table [dataSource]="listadoUser" class="mat-table">
    <ng-container matColumnDef="documentTypeId">
      <th mat-header-cell *matHeaderCellDef>Tipo de Documento</th>
      <td mat-cell *matCellDef="let user">{{ user.documentTypeId }}</td>
    </ng-container>

    <ng-container matColumnDef="documentNumber">
      <th mat-header-cell *matHeaderCellDef>Documento</th>
      <td mat-cell *matCellDef="let user">{{ user.documentNumber }}</td>
    </ng-container>

    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef>Nombre</th>
      <td mat-cell *matCellDef="let user">{{ user.name }}</td>
    </ng-container>

    <ng-container matColumnDef="fathersLastName">
      <th mat-header-cell *matHeaderCellDef>Apellidos</th>
      <td mat-cell *matCellDef="let user">
        {{ user.fathersLastName }} {{ user.mothersLastName }}
      </td>
    </ng-container>

    <ng-container matColumnDef="address">
      <th mat-header-cell *matHeaderCellDef>Direcci√≥n</th>
      <td mat-cell *matCellDef="let user">{{ user.address }}</td>
    </ng-container>

    <ng-container matColumnDef="phone">
      <th mat-header-cell *matHeaderCellDef>Celular</th>
      <td mat-cell *matCellDef="let user">{{ user.phone }}</td>
    </ng-container>

    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef>Email</th>
      <td mat-cell *matCellDef="let user">{{ user.email }}</td>
    </ng-container>

    <ng-container matColumnDef="acciones">
      <th mat-header-cell *matHeaderCellDef>Acciones</th>
      <td mat-cell *matCellDef="let user">
        <a
          class="btn btn-primary m-2"
          [routerLink]="['/user/maintenance', documento]"
          [queryParams]="{ param: user.documentNumber }"
        >
          Modificar
        </a>
        <button
          mat-button
          class="btn btn-warning m-2"
          color="warn"
          (click)="DeleteAndGet(user.documentNumber)"
        >
          Eliminar
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>

    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
</div>

<router-outlet></router-outlet>
